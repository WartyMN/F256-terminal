/*
 * screen.c
 *
 *  Created on: Jan 11, 2023
 *      Author: micahbly
 *
 *  Routines for drawing and updating the UI elements
 *
 */



/*****************************************************************************/
/*                                Includes                                   */
/*****************************************************************************/

// project includes
#include "app.h"
#include "comm_buffer.h"
#include "debug.h"
#include "general.h"
#include "kernel.h"
#include "keyboard.h"
#include "memory.h"
#include "screen.h"
#include "sys.h"
#include "text.h"
#include "strings.h"

// C includes
#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

// F256 includes
#include "f256.h"




/*****************************************************************************/
/*                               Definitions                                 */
/*****************************************************************************/

#define UI_BYTE_SIZE_OF_APP_TITLEBAR	80	// 1 x 80 rows for the title at top

/*****************************************************************************/
/*                           File-scope Variables                            */
/*****************************************************************************/

#pragma data-name ("OVERLAY_SCREEN")

const static uint8_t			screen_titlebar_glyphs[UI_BYTE_SIZE_OF_APP_TITLEBAR] = 
{
// solid with angled ends
0x07,0xB9, 32,102,47,116,101,114,109,32,0x46,0x32,0x35,0x36,32, 0xB8,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0xB9,0x07,0x07,0x07, 0x07,0x07,0x07,0xB8, 0x07,0x07,0x07,0x07, 0x07,0x07,0xB9,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0xB8, 0x07, 
};

const static uint8_t			screen_titlebar_glyphs_ansi[UI_BYTE_SIZE_OF_APP_TITLEBAR] = 
{
// double H lines with bookends around name
0xCD,0xB5, 32,102,47,116,101,114,109,32,0x46,0x32,0x35,0x36,32, 0xC6,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xB5,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xC6, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xB5,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xCD, 0xCD,0xCD,0xCD,0xC6, 0xCD,
};

const static char		screen_font_std[] = {
0x06,0x09,0x10,0x3C, 0x10,0x21,0x7E,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xFF,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0x00, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x22,0x00, 0x08,0x00,0x02,0x00, 0x88,0x00,0x22,0x00, 0x88,0x00,0x22,0x00, 0x8A,0x00,0x2A,0x00, 0x8A,0x00,0x2A,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x00,0xAA,0x00, 0xAA,0x05,0xAA,0x11, 0xAA,0x05,0xAA,0x11, 0xAA,0x5F,0xAA,0x77, 0xAA,0x5F,0xAA,0x77, 0xAA,0xFF,0xAA,0xFF, 0xAA,0xFF,0xAA,0xFF, 0xAF,0xFF,0xBB,0xFF, 0xAF,0xFF,0xBB,0xFF, 0x77,0xFF,0xDD,0xFF, 0x77,0xFF,0xDD,0xFF, 0x7F,0xFF,0xDF,0xFF, 0x77,0xFF,0xDF,0xFF, 0xFF,0xFF,0xDF,0xFF, 0x77,0xFF,0xDD,0xFF, 0xBB,0xFF,0xEE,0xFF, 0xAA,0xFF,0xAA,0xFF, 0xAA,0xFF,0xAA,0x77, 0xAA,0xDD,0xAA,0x55, 0xAA,0x55,0x22,0x55, 0x88,0x55,0x00,0x55, 0xAA,0x00,0xAA,0x00, 0x88,0x00,0x22,0x00, 0x33,0x99,0xCC,0x66, 0x33,0x99,0xCC,0x66, 0xCC,0x99,0x33,0x66, 0xCC,0x99,0x33,0x66, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x00,0x00,0x08,0x00, 0x24,0x24,0x24,0x00, 0x00,0x00,0x00,0x00, 0x24,0x24,0x7E,0x24, 0x7E,0x24,0x24,0x00, 0x08,0x1E,0x28,0x1C, 0x0A,0x3C,0x08,0x00, 0x00,0x62,0x64,0x08, 0x10,0x26,0x46,0x00, 0x30,0x48,0x48,0x30, 0x4A,0x44,0x3A,0x00, 0x08,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x04,0x08,0x10,0x10, 0x10,0x08,0x04,0x00, 0x20,0x10,0x08,0x08, 0x08,0x10,0x20,0x00, 0x00,0x2A,0x1C,0x3E, 0x1C,0x2A,0x00,0x00, 0x00,0x08,0x08,0x3E, 0x08,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x08,0x08,0x10, 0x00,0x00,0x00,0x7E, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x00, 0x00,0x02,0x04,0x08, 0x10,0x20,0x40,0x00, 0x3C,0x42,0x46,0x5A, 0x62,0x42,0x3C,0x00, 0x08,0x18,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x3C,0x42,0x02,0x3C, 0x40,0x40,0x7E,0x00, 0x3C,0x42,0x02,0x1C, 0x02,0x42,0x3C,0x00, 0x04,0x44,0x44,0x44, 0x7E,0x04,0x04,0x00, 0x7E,0x40,0x40,0x7C, 0x02,0x02,0x7C,0x00, 0x3C,0x40,0x40,0x7C, 0x42,0x42,0x3C,0x00, 0x7E,0x42,0x04,0x08, 0x10,0x10,0x10,0x00, 0x3C,0x42,0x42,0x3C, 0x42,0x42,0x3C,0x00, 0x3C,0x42,0x42,0x3E, 0x02,0x02,0x3C,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x00,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x08,0x10, 0x08,0x10,0x20,0x40, 0x20,0x10,0x08,0x00, 0x00,0x00,0x7E,0x00, 0x7E,0x00,0x00,0x00, 0x10,0x08,0x04,0x02, 0x04,0x08,0x10,0x00, 0x3C,0x42,0x02,0x0C, 0x10,0x00,0x10,0x00, 0x3C,0x42,0x4E,0x52, 0x4E,0x40,0x3C,0x00, 0x3C,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x7C,0x42,0x42,0x7C, 0x42,0x42,0x7C,0x00, 0x3C,0x42,0x40,0x40, 0x40,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x42, 0x42,0x42,0x7C,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x7E,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x40,0x4E, 0x42,0x42,0x3C,0x00, 0x42,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x1C,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x0E,0x04,0x04,0x04, 0x04,0x44,0x38,0x00, 0x42,0x44,0x48,0x70, 0x48,0x44,0x42,0x00, 0x40,0x40,0x40,0x40, 0x40,0x40,0x7E,0x00, 0x41,0x63,0x55,0x49, 0x41,0x41,0x41,0x00, 0x42,0x62,0x52,0x4A, 0x46,0x42,0x42,0x00, 0x3C,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x7C, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x42,0x42, 0x4A,0x44,0x3A,0x00, 0x7C,0x42,0x42,0x7C, 0x48,0x44,0x42,0x00, 0x3C,0x42,0x40,0x3C, 0x02,0x42,0x3C,0x00, 0x3E,0x08,0x08,0x08, 0x08,0x08,0x08,0x00, 0x42,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x41,0x41,0x41,0x22, 0x22,0x14,0x08,0x00, 0x41,0x41,0x41,0x49, 0x55,0x63,0x41,0x00, 0x42,0x42,0x24,0x18, 0x24,0x42,0x42,0x00, 0x41,0x22,0x14,0x08, 0x08,0x08,0x08,0x00, 0x7F,0x02,0x04,0x08, 0x10,0x20,0x7F,0x00, 0x3C,0x20,0x20,0x20, 0x20,0x20,0x3C,0x00, 0x00,0x40,0x20,0x10, 0x08,0x04,0x02,0x00, 0x3C,0x04,0x04,0x04, 0x04,0x04,0x3C,0x00, 0x00,0x08,0x14,0x22, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x10,0x08,0x04,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x7C,0x00, 0x00,0x00,0x3C,0x40, 0x40,0x40,0x3C,0x00, 0x02,0x02,0x3E,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x3C,0x42, 0x7E,0x40,0x3C,0x00, 0x0C,0x10,0x10,0x7C, 0x10,0x10,0x10,0x00, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x3C, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x08,0x00,0x18,0x08, 0x08,0x08,0x08,0x00, 0x04,0x00,0x0C,0x04, 0x04,0x04,0x04,0x38, 0x40,0x40,0x44,0x48, 0x50,0x68,0x44,0x00, 0x18,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x00,0x00,0x76,0x49, 0x49,0x49,0x49,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x00,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x7C,0x40,0x40, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x02, 0x00,0x00,0x5C,0x60, 0x40,0x40,0x40,0x00, 0x00,0x00,0x3E,0x40, 0x3C,0x02,0x7C,0x00, 0x10,0x10,0x7C,0x10, 0x10,0x10,0x0C,0x00, 0x00,0x00,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x42,0x42, 0x42,0x24,0x18,0x00, 0x00,0x00,0x41,0x49, 0x49,0x49,0x36,0x00, 0x00,0x00,0x42,0x24, 0x18,0x24,0x42,0x00, 0x00,0x00,0x42,0x42, 0x42,0x3E,0x02,0x3C, 0x00,0x00,0x7E,0x04, 0x18,0x20,0x7E,0x00, 0x0C,0x10,0x10,0x20, 0x10,0x10,0x0C,0x00, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x00, 0x30,0x08,0x08,0x04, 0x08,0x08,0x30,0x00, 0x00,0x00,0x30,0x49, 0x06,0x00,0x00,0x00, 0x08,0x04,0x04,0x08, 0x10,0x10,0x08,0x00, 0x02,0x02,0x02,0x02, 0x02,0x02,0x02,0x02, 0x04,0x04,0x04,0x04, 0x04,0x04,0x04,0x04, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x10, 0x20,0x20,0x20,0x20, 0x20,0x20,0x20,0x20, 0x40,0x40,0x40,0x40, 0x40,0x40,0x40,0x40, 0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80, 0xC0,0xC0,0xC0,0xC0, 0xC0,0xC0,0xC0,0xC0, 0xE0,0xE0,0xE0,0xE0, 0xE0,0xE0,0xE0,0xE0, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0xF8,0xF8,0xF8,0xF8, 0xF8,0xF8,0xF8,0xF8, 0xFC,0xFC,0xFC,0xFC, 0xFC,0xFC,0xFC,0xFC, 0xFE,0xFE,0xFE,0xFE, 0xFE,0xFE,0xFE,0xFE, 0x7F,0x7F,0x7F,0x7F, 0x7F,0x7F,0x7F,0x7F, 0x3F,0x3F,0x3F,0x3F, 0x3F,0x3F,0x3F,0x3F, 0x1F,0x1F,0x1F,0x1F, 0x1F,0x1F,0x1F,0x1F, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0x07,0x07,0x07,0x07, 0x07,0x07,0x07,0x07, 0x03,0x03,0x03,0x03, 0x03,0x03,0x03,0x03, 0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0x00,0x00,0x00,0x00, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xFF,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x08,0x08,0x08, 0x81,0x42,0x24,0x18, 0x18,0x24,0x42,0x81, 0x00,0x00,0x00,0x00, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xF8,0x00,0x00,0x00, 0x18,0x18,0x18,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x18,0x18,0x18, 0x00,0x00,0x00,0x1F, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0xF8, 0xF8,0x18,0x18,0x18, 0x18,0x18,0x18,0x1F, 0x1F,0x00,0x00,0x00, 0x18,0x18,0x18,0xF8, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0x03,0x07,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xC0,0xE0,0xF0,0xF0, 0x0F,0x0F,0x07,0x03, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xE0,0xC0, 0x00,0x00,0x00,0x00, 0x00,0x3C,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x3C,0x7E,0x7E, 0x7E,0x7E,0x3C,0x00, 0x00,0x7E,0x7E,0x7E, 0x7E,0x7E,0x7E,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x00,0x00, 0xFF,0x7F,0x3F,0x1F, 0x0F,0x07,0x03,0x01, 0xFF,0xFE,0xFC,0xF8, 0xF0,0xE0,0xC0,0x80, 0x80,0x40,0x20,0x10, 0x08,0x04,0x02,0x01, 0x01,0x02,0x04,0x08, 0x10,0x20,0x40,0x80, 0x00,0x00,0x00,0x00, 0x03,0x04,0x08,0x08, 0x00,0x00,0x00,0x00, 0xE0,0x10,0x08,0x08, 0x08,0x08,0x08,0x04, 0x03,0x00,0x00,0x00, 0x08,0x08,0x08,0x10, 0xE0,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x55, 0x00,0x00,0x00,0x00, 0x00,0x00,0xAA,0x55, 0x00,0x00,0x00,0x00, 0x00,0x55,0xAA,0x55, 0x00,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0x00,0x55, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0x00,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x55, 0x00,0x00,0x00,0x00, 0xAA,0x55,0xAA,0x00, 0x00,0x00,0x00,0x00, 0xAA,0x55,0x00,0x00, 0x00,0x00,0x00,0x00, 0xAA,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x80,0x00,0x80,0x00, 0x80,0x00,0x80,0x00, 0x80,0x40,0x80,0x40, 0x80,0x40,0x80,0x40, 0xA0,0x40,0xA0,0x40, 0xA0,0x40,0xA0,0x40, 0xA0,0x50,0xA0,0x50, 0xA0,0x50,0xA0,0x50, 0xA8,0x50,0xA8,0x50, 0xA8,0x50,0xA8,0x50, 0xA8,0x54,0xA8,0x54, 0xA8,0x54,0xA8,0x54, 0xAA,0x54,0xAA,0x54, 0xAA,0x54,0xAA,0x54, 0x2A,0x55,0x2A,0x55, 0x2A,0x55,0x2A,0x55, 0x7E,0x81,0x9D,0xA1, 0xA1,0x9D,0x81,0x7E, 0x2A,0x15,0x2A,0x15, 0x2A,0x15,0x2A,0x15, 0x0A,0x15,0x0A,0x15, 0x0A,0x15,0x0A,0x15, 0x0A,0x05,0x0A,0x05, 0x0A,0x05,0x0A,0x05, 0x02,0x05,0x02,0x05, 0x02,0x05,0x02,0x05, 0x02,0x01,0x02,0x01, 0x02,0x01,0x02,0x01, 0x00,0x01,0x00,0x01, 0x00,0x01,0x00,0x01, 0x00,0x00,0x03,0x06, 0x6C,0x38,0x10,0x00, 0x7E,0x81,0xBD,0xA1, 0xB9,0xA1,0xA1,0x7E, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x3C,0x42,0x5A, 0x5A,0x42,0x3C,0x00, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0x81,0x81,0x81, 0x81,0x81,0x81,0xFF, 0x01,0x03,0x07,0x0F, 0x1F,0x3F,0x7F,0xFF, 0x80,0xC0,0xE0,0xF0, 0xF8,0xFC,0xFE,0xFF, 0x3F,0x1F,0x0F,0x07, 0x03,0x01,0x00,0x00, 0xFC,0xF8,0xF0,0xE0, 0xC0,0x80,0x00,0x00, 0x00,0x00,0x01,0x03, 0x07,0x0F,0x1F,0x3F, 0x00,0x00,0x80,0xC0, 0xE0,0xF0,0xF8,0xFC, 0x0F,0x07,0x03,0x01, 0x00,0x00,0x00,0x00, 0xF0,0xE0,0xC0,0x80, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x01,0x03,0x07,0x0F, 0x00,0x00,0x00,0x00, 0x80,0xC0,0xE0,0xF0, 0x03,0x01,0x00,0x00, 0x00,0x00,0x00,0x00, 0xC0,0x80,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x01,0x03, 0x00,0x00,0x00,0x00, 0x00,0x00,0x80,0xC0, 0x00,0x00,0x00,0x00, 0x0F,0x0F,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x00,0x00,0x00,0x00, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xF0,0xF0,0xF0,0xF0, 0x00,0x00,0x00,0x3E, 0x1C,0x08,0x00,0x00, 0x00,0x00,0x08,0x18, 0x38,0x18,0x08,0x00, 0x00,0x00,0x10,0x18, 0x1C,0x18,0x10,0x00, 0x00,0x00,0x08,0x1C, 0x3E,0x00,0x00,0x00, 0x36,0x7F,0x7F,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x7F,0x1C,0x3E,0x00, 0x08,0x1C,0x2A,0x77, 0x2A,0x08,0x1C,0x00,
};

const static char		screen_font_std_ansi[] = {
0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x7E,0x81,0xA5,0x81, 0xBD,0x99,0x81,0x7E, 0x7E,0xFF,0xDB,0xFF, 0xC3,0xE7,0xFF,0x7E, 0x36,0x7F,0x7F,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x3E,0x7F, 0x3E,0x1C,0x08,0x00, 0x08,0x1C,0x2A,0x77, 0x2A,0x08,0x1C,0x00, 0x08,0x1C,0x3E,0x7F, 0x7F,0x1C,0x3E,0x00, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0xFF,0xE7,0xC3, 0xC3,0xE7,0xFF,0xFF, 0x00,0x3C,0x42,0x42, 0x42,0x42,0x3C,0x00, 0xFF,0xC3,0xBD,0xBD, 0xBD,0xBD,0xC3,0xFF, 0x00,0x0E,0x06,0x7A, 0x88,0x88,0x88,0x70, 0x38,0x44,0x44,0x44, 0x38,0x10,0x38,0x10, 0x1E,0x12,0x1E,0x10, 0x30,0x50,0x60,0x00, 0x1F,0x11,0x11,0x13, 0x35,0x56,0x60,0x00, 0x08,0x2A,0x1C,0x77, 0x1C,0x2A,0x08,0x00, 0x40,0x70,0x7C,0x7F, 0x7C,0x70,0x40,0x00, 0x01,0x07,0x1F,0x7F, 0x1F,0x07,0x01,0x00, 0x08,0x1C,0x3E,0x08, 0x3E,0x1C,0x08,0x00, 0x24,0x24,0x24,0x24, 0x00,0x00,0x24,0x00, 0x3E,0x4A,0x4A,0x3E, 0x0A,0x0A,0x0A,0x00, 0x1C,0x22,0x18,0x24, 0x24,0x18,0x44,0x38, 0x00,0x00,0x00,0x00, 0x7E,0x7E,0x7E,0x7E, 0x08,0x1C,0x3E,0x08, 0x3E,0x1C,0x08,0x7F, 0x00,0x08,0x1C,0x3E, 0x08,0x08,0x08,0x00, 0x00,0x08,0x08,0x08, 0x3E,0x1C,0x08,0x00, 0x00,0x00,0x08,0x0C, 0x7E,0x0C,0x08,0x00, 0x00,0x00,0x10,0x30, 0x7E,0x30,0x10,0x00, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x00,0x00,0x14,0x36, 0x7F,0x36,0x14,0x00, 0x00,0x00,0x08,0x1C, 0x3E,0x00,0x00,0x00, 0x00,0x00,0x00,0x3E, 0x1C,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0x00,0x00,0x08,0x00, 0x24,0x24,0x24,0x00, 0x00,0x00,0x00,0x00, 0x24,0x24,0x7E,0x24, 0x7E,0x24,0x24,0x00, 0x08,0x1E,0x28,0x1C, 0x0A,0x3C,0x08,0x00, 0x00,0x62,0x64,0x08, 0x10,0x26,0x46,0x00, 0x30,0x48,0x48,0x30, 0x4A,0x44,0x3A,0x00, 0x08,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x04,0x08,0x10,0x10, 0x10,0x08,0x04,0x00, 0x20,0x10,0x08,0x08, 0x08,0x10,0x20,0x00, 0x00,0x2A,0x1C,0x3E, 0x1C,0x2A,0x00,0x00, 0x00,0x08,0x08,0x3E, 0x08,0x08,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x08,0x08,0x10, 0x00,0x00,0x00,0x7E, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x18,0x18,0x00, 0x00,0x02,0x04,0x08, 0x10,0x20,0x40,0x00, 0x3C,0x42,0x46,0x5A, 0x62,0x42,0x3C,0x00, 0x08,0x18,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x3C,0x42,0x02,0x3C, 0x40,0x40,0x7E,0x00, 0x3C,0x42,0x02,0x1C, 0x02,0x42,0x3C,0x00, 0x04,0x44,0x44,0x44, 0x7E,0x04,0x04,0x00, 0x7E,0x40,0x40,0x7C, 0x02,0x02,0x7C,0x00, 0x3C,0x40,0x40,0x7C, 0x42,0x42,0x3C,0x00, 0x7E,0x42,0x04,0x08, 0x10,0x10,0x10,0x00, 0x3C,0x42,0x42,0x3C, 0x42,0x42,0x3C,0x00, 0x3C,0x42,0x42,0x3E, 0x02,0x02,0x3C,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x00,0x00, 0x00,0x00,0x08,0x00, 0x00,0x08,0x08,0x10, 0x08,0x10,0x20,0x40, 0x20,0x10,0x08,0x00, 0x00,0x00,0x7E,0x00, 0x7E,0x00,0x00,0x00, 0x10,0x08,0x04,0x02, 0x04,0x08,0x10,0x00, 0x3C,0x42,0x02,0x0C, 0x10,0x00,0x10,0x00, 0x3C,0x42,0x4E,0x52, 0x4E,0x40,0x3C,0x00, 0x3C,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x7C,0x42,0x42,0x7C, 0x42,0x42,0x7C,0x00, 0x3C,0x42,0x40,0x40, 0x40,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x42, 0x42,0x42,0x7C,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x7E,0x00, 0x7E,0x40,0x40,0x78, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x40,0x4E, 0x42,0x42,0x3C,0x00, 0x42,0x42,0x42,0x7E, 0x42,0x42,0x42,0x00, 0x1C,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x0E,0x04,0x04,0x04, 0x04,0x44,0x38,0x00, 0x42,0x44,0x48,0x70, 0x48,0x44,0x42,0x00, 0x40,0x40,0x40,0x40, 0x40,0x40,0x7E,0x00, 0x41,0x63,0x55,0x49, 0x41,0x41,0x41,0x00, 0x42,0x62,0x52,0x4A, 0x46,0x42,0x42,0x00, 0x3C,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x7C,0x42,0x42,0x7C, 0x40,0x40,0x40,0x00, 0x3C,0x42,0x42,0x42, 0x4A,0x44,0x3A,0x00, 0x7C,0x42,0x42,0x7C, 0x48,0x44,0x42,0x00, 0x3C,0x42,0x40,0x3C, 0x02,0x42,0x3C,0x00, 0x3E,0x08,0x08,0x08, 0x08,0x08,0x08,0x00, 0x42,0x42,0x42,0x42, 0x42,0x42,0x3C,0x00, 0x41,0x41,0x41,0x22, 0x22,0x14,0x08,0x00, 0x41,0x41,0x41,0x49, 0x55,0x63,0x41,0x00, 0x42,0x42,0x24,0x18, 0x24,0x42,0x42,0x00, 0x41,0x22,0x14,0x08, 0x08,0x08,0x08,0x00, 0x7F,0x02,0x04,0x08, 0x10,0x20,0x7F,0x00, 0x3C,0x20,0x20,0x20, 0x20,0x20,0x3C,0x00, 0x00,0x40,0x20,0x10, 0x08,0x04,0x02,0x00, 0x3C,0x04,0x04,0x04, 0x04,0x04,0x3C,0x00, 0x00,0x08,0x14,0x22, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x10,0x08,0x04,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x7C,0x00, 0x00,0x00,0x3C,0x40, 0x40,0x40,0x3C,0x00, 0x02,0x02,0x3E,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x3C,0x42, 0x7E,0x40,0x3C,0x00, 0x0C,0x10,0x10,0x7C, 0x10,0x10,0x10,0x00, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x3C, 0x40,0x40,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x08,0x00,0x18,0x08, 0x08,0x08,0x08,0x00, 0x04,0x00,0x0C,0x04, 0x04,0x04,0x04,0x38, 0x40,0x40,0x44,0x48, 0x50,0x68,0x44,0x00, 0x18,0x08,0x08,0x08, 0x08,0x08,0x1C,0x00, 0x00,0x00,0x76,0x49, 0x49,0x49,0x49,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x42,0x42,0x00, 0x00,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x00,0x00,0x7C,0x42, 0x42,0x7C,0x40,0x40, 0x00,0x00,0x3E,0x42, 0x42,0x3E,0x02,0x02, 0x00,0x00,0x5C,0x60, 0x40,0x40,0x40,0x00, 0x00,0x00,0x3E,0x40, 0x3C,0x02,0x7C,0x00, 0x10,0x10,0x7C,0x10, 0x10,0x10,0x0C,0x00, 0x00,0x00,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x00,0x00,0x42,0x42, 0x42,0x24,0x18,0x00, 0x00,0x00,0x41,0x49, 0x49,0x49,0x36,0x00, 0x00,0x00,0x42,0x24, 0x18,0x24,0x42,0x00, 0x00,0x00,0x42,0x42, 0x42,0x3E,0x02,0x3C, 0x00,0x00,0x7E,0x04, 0x18,0x20,0x7E,0x00, 0x0C,0x10,0x10,0x20, 0x10,0x10,0x0C,0x00, 0x10,0x10,0x10,0x10, 0x10,0x10,0x10,0x00, 0x30,0x08,0x08,0x04, 0x08,0x08,0x30,0x00, 0x00,0x00,0x30,0x49, 0x06,0x00,0x00,0x00, 0x00,0x08,0x14,0x22, 0x41,0x41,0x7F,0x00, 0x3C,0x42,0x40,0x40, 0x42,0x3C,0x08,0x18, 0x24,0x00,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x04,0x08,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x3C,0x42,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x24,0x00,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x10,0x08,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x1C,0x14,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x00,0x1E,0x20,0x20, 0x20,0x1E,0x08,0x18, 0x08,0x14,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x24,0x00,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x10,0x08,0x3C,0x42, 0x7E,0x40,0x3E,0x00, 0x00,0x24,0x00,0x18, 0x08,0x08,0x08,0x00, 0x08,0x14,0x00,0x18, 0x08,0x08,0x08,0x00, 0x10,0x08,0x00,0x18, 0x08,0x08,0x08,0x00, 0x04,0x08,0x14,0x22, 0x22,0x3E,0x22,0x00, 0x08,0x14,0x08,0x14, 0x22,0x3E,0x22,0x00, 0x04,0x08,0x7E,0x40, 0x7C,0x40,0x7E,0x00, 0x00,0x00,0x76,0x09, 0x7F,0x48,0x3F,0x00, 0x1E,0x28,0x48,0x7E, 0x48,0x48,0x4E,0x00, 0x3C,0x42,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x00,0x24,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x10,0x08,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x08,0x14,0x00,0x42, 0x42,0x42,0x3E,0x00, 0x10,0x08,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x14,0x00,0x22,0x22, 0x22,0x1E,0x02,0x1C, 0x24,0x00,0x3C,0x42, 0x42,0x42,0x3C,0x00, 0x14,0x00,0x22,0x22, 0x22,0x22,0x1C,0x00, 0x08,0x3C,0x40,0x40, 0x40,0x3C,0x08,0x00, 0x06,0x09,0x10,0x3C, 0x10,0x21,0x7E,0x00, 0x44,0x44,0x28,0x7C, 0x10,0x7C,0x10,0x00, 0x70,0x48,0x48,0x74, 0x4E,0x44,0x46,0x00, 0x04,0x0A,0x08,0x1C, 0x08,0x08,0x28,0x10, 0x04,0x08,0x3C,0x02, 0x3E,0x42,0x3E,0x00, 0x08,0x10,0x00,0x18, 0x08,0x08,0x08,0x00, 0x08,0x10,0x00,0x3C, 0x42,0x42,0x3C,0x00, 0x08,0x10,0x42,0x42, 0x42,0x42,0x3E,0x00, 0x32,0x4C,0x00,0x7C, 0x42,0x42,0x42,0x00, 0x32,0x4C,0x00,0x62, 0x52,0x4A,0x46,0x00, 0x1C,0x24,0x1A,0x00, 0x3E,0x00,0x00,0x00, 0x1C,0x22,0x1C,0x00, 0x3E,0x00,0x00,0x00, 0x08,0x00,0x08,0x30, 0x40,0x42,0x3C,0x00, 0x00,0x00,0x00,0x00, 0x0E,0x08,0x08,0x00, 0x00,0x00,0x00,0x00, 0x78,0x08,0x08,0x00, 0x40,0x48,0x50,0x2C, 0x42,0x04,0x0E,0x00, 0x40,0x48,0x50,0x2A, 0x4A,0x0E,0x02,0x00, 0x08,0x00,0x00,0x08, 0x08,0x08,0x08,0x00, 0x00,0x12,0x24,0x48, 0x24,0x12,0x00,0x00, 0x00,0x48,0x24,0x12, 0x24,0x48,0x00,0x00, 0x88,0x00,0x22,0x00, 0x88,0x00,0x22,0x00, 0xAA,0x55,0xAA,0x55, 0xAA,0x55,0xAA,0x55, 0x77,0xFF,0xDD,0xFF, 0x77,0xFF,0xDD,0xFF, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0xF8, 0x08,0xF8,0x08,0x08, 0x14,0x14,0x14,0x14, 0xF4,0x14,0x14,0x14, 0x00,0x00,0x00,0x00, 0xFC,0x14,0x14,0x14, 0x00,0x00,0x00,0xF8, 0x08,0xF8,0x08,0x08, 0x14,0x14,0x14,0xF4, 0x14,0xF4,0x14,0x14, 0x14,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0x00,0x00,0x00,0xFC, 0x04,0xF4,0x14,0x14, 0x14,0x14,0x14,0xF4, 0x04,0xFC,0x00,0x00, 0x14,0x14,0x14,0x14, 0xFC,0x00,0x00,0x00, 0x08,0x08,0x08,0xF8, 0x08,0xF8,0x00,0x00, 0x00,0x00,0x00,0x00, 0xF8,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x08, 0x0F,0x08,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x08,0x08,0x08,0x08, 0xFF,0x08,0x08,0x08, 0x08,0x08,0x08,0x0F, 0x08,0x0F,0x08,0x08, 0x14,0x14,0x14,0x14, 0x17,0x14,0x14,0x14, 0x14,0x14,0x14,0x17, 0x10,0x1F,0x00,0x00, 0x00,0x00,0x00,0x1F, 0x10,0x17,0x14,0x14, 0x14,0x14,0x14,0xF7, 0x00,0xFF,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0xF7,0x14,0x14, 0x14,0x14,0x14,0x17, 0x10,0x17,0x14,0x14, 0x00,0x00,0x00,0xFF, 0x00,0xFF,0x00,0x00, 0x14,0x14,0x14,0xF7, 0x00,0xF7,0x14,0x14, 0x08,0x08,0x08,0xFF, 0x00,0xFF,0x00,0x00, 0x14,0x14,0x14,0x14, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x00,0xFF,0x08,0x08, 0x00,0x00,0x00,0x00, 0xFF,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0x1F,0x00,0x00,0x00, 0x08,0x08,0x08,0x0F, 0x08,0x0F,0x00,0x00, 0x00,0x00,0x00,0x0F, 0x08,0x0F,0x08,0x08, 0x00,0x00,0x00,0x00, 0x1F,0x14,0x14,0x14, 0x14,0x14,0x14,0x14, 0xFF,0x14,0x14,0x14, 0x08,0x08,0x08,0xFF, 0x08,0xFF,0x08,0x08, 0x08,0x08,0x08,0x08, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x0F,0x08,0x08,0x08, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0x76,0xDC, 0xC8,0xDC,0x76,0x00, 0x00,0x3C,0x66,0x7C, 0x66,0x7C,0x60,0x60, 0x00,0xFC,0xCC,0xC0, 0xC0,0xC0,0xC0,0x00, 0x00,0xFE,0x6C,0x6C, 0x6C,0x6C,0x6C,0x00, 0xFE,0xC6,0x60,0x30, 0x60,0xC6,0xFE,0x00, 0x00,0x00,0x7E,0xD8, 0xD8,0xD8,0x70,0x00, 0x00,0x66,0x66,0x66, 0x66,0x7C,0x60,0xC0, 0x00,0x76,0xDC,0x18, 0x18,0x18,0x18,0x00, 0xFC,0x30,0x78,0xCC, 0xCC,0x78,0x30,0xFC, 0x38,0x6C,0xC6,0xFE, 0xC6,0x6C,0x38,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0xEE,0x00, 0x1C,0x30,0x18,0x7C, 0xC6,0xC6,0x7C,0x00, 0x00,0x00,0x7E,0xDB, 0xDB,0x7E,0x00,0x00, 0x06,0x0C,0x7E,0xDB, 0xDB,0x7E,0x30,0x60, 0x38,0x60,0xC0,0xF8, 0xC0,0x60,0x38,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0xFC,0x00,0xFC, 0x00,0xFC,0x00,0x00, 0x08,0x08,0x3E,0x08, 0x08,0x00,0x3E,0x00, 0x10,0x08,0x04,0x08, 0x10,0x00,0x1C,0x00, 0x04,0x08,0x10,0x08, 0x04,0x00,0x1C,0x00, 0x0E,0x1B,0x1B,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0xD8,0xD8,0x70, 0x00,0x08,0x00,0x3E, 0x00,0x08,0x00,0x00, 0x00,0x30,0x49,0x06, 0x30,0x49,0x06,0x00, 0x30,0x48,0x48,0x30, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x08,0x00,0x00,0x00, 0x07,0x04,0x04,0x04, 0x24,0x14,0x0C,0x04, 0x78,0x44,0x44,0x44, 0x44,0x00,0x00,0x00, 0x60,0x10,0x20,0x40, 0x70,0x00,0x00,0x00, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,
};

const static char		screen_font_ibm_ansi[] = {
0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x7E,0x81,0xA5,0x81, 0xBD,0x99,0x81,0x7E, 0x7E,0xFF,0xDB,0xFF, 0xC3,0xE7,0xFF,0x7E, 0x6C,0xFE,0xFE,0xFE, 0x7C,0x38,0x10,0x00, 0x10,0x38,0x7C,0xFE, 0x7C,0x38,0x10,0x00, 0x38,0x7C,0x38,0xFE, 0xFE,0x7C,0x38,0x7C, 0x10,0x10,0x38,0x7C, 0xFE,0x7C,0x38,0x7C, 0x00,0x00,0x18,0x3C, 0x3C,0x18,0x00,0x00, 0xFF,0xFF,0xE7,0xC3, 0xC3,0xE7,0xFF,0xFF, 0x00,0x3C,0x66,0x42, 0x42,0x66,0x3C,0x00, 0xFF,0xC3,0x99,0xBD, 0xBD,0x99,0xC3,0xFF, 0x0F,0x07,0x0D,0x7C, 0xCC,0xCC,0xCC,0x78, 0x3C,0x66,0x66,0x66, 0x3C,0x18,0x7E,0x18, 0x3F,0x33,0x3F,0x30, 0x30,0x70,0xF0,0xE0, 0x7F,0x63,0x7F,0x63, 0x63,0x67,0xE6,0xC0, 0x99,0x5A,0x3C,0xE7, 0xE7,0x3C,0x5A,0x99, 0x80,0xE0,0xF8,0xFE, 0xF8,0xE0,0x80,0x00, 0x02,0x0E,0x3E,0xFE, 0x3E,0x0E,0x02,0x00, 0x18,0x3C,0x7E,0x18, 0x18,0x7E,0x3C,0x18, 0x66,0x66,0x66,0x66, 0x00,0x00,0x66,0x00, 0x7F,0xDB,0xDB,0x7B, 0x1B,0x1B,0x1B,0x00, 0x3E,0x63,0x3C,0x66, 0x66,0x3C,0xC6,0x7C, 0x00,0x00,0x00,0x00, 0x7E,0x7E,0x7E,0x00, 0x18,0x3C,0x7E,0x18, 0x7E,0x3C,0x18,0xFF, 0x18,0x3C,0x7E,0x18, 0x18,0x18,0x18,0x00, 0x18,0x18,0x18,0x18, 0x7E,0x3C,0x18,0x00, 0x00,0x18,0x0C,0xFE, 0x0C,0x18,0x00,0x00, 0x00,0x30,0x60,0xFE, 0x60,0x30,0x00,0x00, 0x00,0x00,0xC0,0xC0, 0xC0,0xFE,0x00,0x00, 0x00,0x24,0x66,0xFF, 0x66,0x24,0x00,0x00, 0x00,0x18,0x3C,0x7E, 0xFF,0xFF,0x00,0x00, 0x00,0xFF,0xFF,0x7E, 0x3C,0x18,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x30,0x78,0x78,0x30, 0x30,0x00,0x30,0x00, 0x6C,0x6C,0x6C,0x00, 0x00,0x00,0x00,0x00, 0x6C,0x6C,0xFE,0x6C, 0xFE,0x6C,0x6C,0x00, 0x30,0x7C,0xC0,0x78, 0x0C,0xF8,0x30,0x00, 0x00,0xC6,0xCC,0x18, 0x30,0x66,0xC6,0x00, 0x38,0x6C,0x38,0x76, 0xDC,0xCC,0x76,0x00, 0x60,0x60,0xC0,0x00, 0x00,0x00,0x00,0x00, 0x18,0x30,0x60,0x60, 0x60,0x30,0x18,0x00, 0x60,0x30,0x18,0x18, 0x18,0x30,0x60,0x00, 0x00,0x66,0x3C,0xFF, 0x3C,0x66,0x00,0x00, 0x00,0x30,0x30,0xFC, 0x30,0x30,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x30,0x30,0x60, 0x00,0x00,0x00,0xFC, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x30,0x30,0x00, 0x06,0x0C,0x18,0x30, 0x60,0xC0,0x80,0x00, 0x7C,0xC6,0xCE,0xDE, 0xF6,0xE6,0x7C,0x00, 0x30,0x70,0x30,0x30, 0x30,0x30,0xFC,0x00, 0x78,0xCC,0x0C,0x38, 0x60,0xCC,0xFC,0x00, 0x78,0xCC,0x0C,0x38, 0x0C,0xCC,0x78,0x00, 0x1C,0x3C,0x6C,0xCC, 0xFE,0x0C,0x1E,0x00, 0xFC,0xC0,0xF8,0x0C, 0x0C,0xCC,0x78,0x00, 0x1C,0x30,0x60,0x7C, 0x66,0x66,0x3C,0x00, 0xFC,0xCC,0x0C,0x18, 0x30,0x30,0x30,0x00, 0x78,0xCC,0xCC,0x78, 0xCC,0xCC,0x78,0x00, 0x78,0xCC,0xCC,0x7C, 0x0C,0x18,0x70,0x00, 0x00,0x30,0x30,0x00, 0x00,0x30,0x30,0x00, 0x00,0x30,0x30,0x00, 0x30,0x30,0x60,0x00, 0x18,0x30,0x60,0xC0, 0x60,0x30,0x18,0x00, 0x00,0x00,0xFC,0x00, 0x00,0xFC,0x00,0x00, 0x60,0x30,0x18,0x0C, 0x18,0x30,0x60,0x00, 0x78,0xCC,0x0C,0x18, 0x30,0x00,0x30,0x00, 0x7C,0xC6,0xDE,0xDE, 0xDE,0xC0,0x78,0x00, 0x30,0x78,0xCC,0xCC, 0xFC,0xCC,0xCC,0x00, 0xFC,0x66,0x66,0x7C, 0x66,0x66,0xFC,0x00, 0x3C,0x66,0xC0,0xC0, 0xC0,0x66,0x3C,0x00, 0xF8,0x6C,0x66,0x66, 0x66,0x6C,0xF8,0x00, 0xFE,0x62,0x68,0x78, 0x68,0x62,0xFE,0x00, 0xFE,0x62,0x68,0x78, 0x68,0x60,0xF0,0x00, 0x3C,0x66,0xC0,0xC0, 0xCE,0x66,0x3E,0x00, 0xCC,0xCC,0xCC,0xFC, 0xCC,0xCC,0xCC,0x00, 0x78,0x30,0x30,0x30, 0x30,0x30,0x78,0x00, 0x1E,0x0C,0x0C,0x0C, 0xCC,0xCC,0x78,0x00, 0xE6,0x66,0x6C,0x78, 0x6C,0x66,0xE6,0x00, 0xF0,0x60,0x60,0x60, 0x62,0x66,0xFE,0x00, 0xC6,0xEE,0xFE,0xD6, 0xC6,0xC6,0xC6,0x00, 0xC6,0xE6,0xF6,0xDE, 0xCE,0xC6,0xC6,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0x38,0x00, 0xFC,0x66,0x66,0x7C, 0x60,0x60,0xF0,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xDC,0x78,0x1C, 0xFC,0x66,0x66,0x7C, 0x6C,0x66,0xE6,0x00, 0x78,0xCC,0xE0,0x70, 0x1C,0xCC,0x78,0x00, 0xFC,0xB4,0x30,0x30, 0x30,0x30,0x78,0x00, 0xCC,0xCC,0xCC,0xCC, 0xCC,0xCC,0xFC,0x00, 0xCC,0xCC,0xCC,0xCC, 0xFC,0x78,0x30,0x00, 0xC6,0xC6,0xC6,0xD6, 0xFE,0xEE,0xC6,0x00, 0xC6,0xC6,0x6C,0x38, 0x38,0x6C,0xC6,0x00, 0xCC,0xCC,0xCC,0x78, 0x30,0x30,0x78,0x00, 0xFE,0xC6,0x8C,0x18, 0x32,0x66,0xFE,0x00, 0x78,0x60,0x60,0x60, 0x60,0x60,0x78,0x00, 0xC0,0x60,0x30,0x18, 0x0C,0x06,0x02,0x00, 0x78,0x18,0x18,0x18, 0x18,0x18,0x78,0x00, 0x10,0x38,0x6C,0xC6, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xFF, 0x30,0x30,0x18,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x78,0x0C, 0x7C,0xCC,0x76,0x00, 0xE0,0x60,0x60,0x7C, 0x66,0x66,0xDC,0x00, 0x00,0x00,0x78,0xCC, 0xC0,0xCC,0x78,0x00, 0x1C,0x0C,0x0C,0x7C, 0xCC,0xCC,0x76,0x00, 0x00,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0x38,0x6C,0x60,0xF8, 0x60,0x60,0xF0,0x00, 0x00,0x00,0x76,0xCC, 0xCC,0x7C,0x0C,0xF8, 0xE0,0x60,0x6C,0x76, 0x66,0x66,0xE6,0x00, 0x30,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x0C,0x00,0x0C,0x0C, 0x0C,0xCC,0xCC,0x78, 0xE0,0x60,0x66,0x6C, 0x78,0x6C,0x66,0x00, 0x70,0x30,0x30,0x30, 0x30,0x30,0x78,0x00, 0x00,0x00,0xCC,0xFE, 0xFE,0xD6,0xC6,0x00, 0x00,0x00,0xF8,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0x00,0x78,0xCC, 0xCC,0xCC,0x78,0x00, 0x00,0x00,0xDC,0x66, 0x66,0x7C,0x60,0xF0, 0x00,0x00,0x7A,0xCC, 0xCC,0x7C,0x0C,0x0E, 0x00,0x00,0xDC,0x76, 0x66,0x60,0xF0,0x00, 0x00,0x00,0x7C,0xC0, 0x78,0x0C,0xF8,0x00, 0x10,0x30,0x7C,0x30, 0x30,0x34,0x18,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0xCC,0x76,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0x78,0x30,0x00, 0x00,0x00,0xC6,0xD6, 0xFE,0x7C,0x6C,0x00, 0x00,0x00,0xC6,0x6C, 0x38,0x6C,0xC6,0x00, 0x00,0x00,0xCC,0xCC, 0xCC,0x7C,0x0C,0xF8, 0x00,0x00,0x7E,0x4C, 0x18,0x32,0x7E,0x00, 0x1C,0x30,0x30,0xE0, 0x30,0x30,0x1C,0x00, 0x18,0x18,0x18,0x00, 0x18,0x18,0x18,0x00, 0xE0,0x30,0x30,0x1C, 0x30,0x30,0xE0,0x00, 0x76,0xDC,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x10,0x38,0x6C, 0xC6,0xC6,0xFE,0x00, 0x78,0xCC,0xC0,0xCC, 0x78,0x18,0x0C,0x78, 0xCC,0x00,0xCC,0xCC, 0xCC,0xCC,0x7E,0x00, 0x1C,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0x7E,0xC3,0x3C,0x06, 0x3E,0x66,0x3F,0x00, 0xCC,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0xE0,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x30,0x30,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x00,0x00,0x78,0xC0, 0xC0,0x78,0x0C,0x38, 0x7E,0xC3,0x3C,0x66, 0x7E,0x60,0x3C,0x00, 0xCC,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0xE0,0x00,0x78,0xCC, 0xFC,0xC0,0x78,0x00, 0xCC,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x7C,0xC6,0x38,0x18, 0x18,0x18,0x3C,0x00, 0xE0,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0xC6,0x38,0x6C,0xC6, 0xFE,0xC6,0xC6,0x00, 0x30,0x30,0x00,0x78, 0xCC,0xFC,0xCC,0x00, 0x1C,0x00,0xFC,0x60, 0x78,0x60,0xFC,0x00, 0x00,0x00,0x7E,0x18, 0x7E,0x98,0x7E,0x00, 0x3E,0x6C,0xCC,0xFE, 0xCC,0xCC,0xCE,0x00, 0x78,0xCC,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x00,0xCC,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x00,0xE0,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x78,0xCC,0x00,0xCC, 0xCC,0xCC,0x7F,0x00, 0x00,0xE0,0x00,0xCC, 0xCC,0xCC,0x7F,0x00, 0xCC,0x00,0xCC,0xCC, 0xCC,0x7C,0x0C,0xF8, 0xC3,0x18,0x3C,0x66, 0x66,0x3C,0x18,0x00, 0xCC,0x00,0xCC,0xCC, 0xCC,0xCC,0x78,0x00, 0x18,0x18,0x7E,0xC0, 0xC0,0x7E,0x18,0x18, 0x38,0x6C,0x64,0xF0, 0x60,0xE6,0xFC,0x00, 0xCC,0xCC,0x78,0xFC, 0x30,0xFC,0x30,0x30, 0xF8,0xCC,0xCC,0xFA, 0xC6,0xCF,0xC6,0x07, 0x0E,0x1B,0x18,0x3C, 0x18,0x18,0xD8,0x70, 0x1C,0x00,0x78,0x0C, 0x7C,0xCC,0x7E,0x00, 0x38,0x00,0x70,0x30, 0x30,0x30,0x78,0x00, 0x00,0x1C,0x00,0x78, 0xCC,0xCC,0x78,0x00, 0x1C,0x00,0xCC,0xCC, 0xCC,0xCC,0x7E,0x00, 0x00,0xF8,0x00,0xF8, 0xCC,0xCC,0xCC,0x00, 0xFC,0x00,0xCC,0xEC, 0xFC,0xDC,0xCC,0x00, 0x3C,0x6C,0x6C,0x3E, 0x00,0x7E,0x00,0x00, 0x38,0x6C,0x6C,0x38, 0x00,0x7C,0x00,0x00, 0x30,0x00,0x30,0x60, 0xC0,0xCC,0x78,0x00, 0x00,0x00,0x00,0xFC, 0xC0,0xC0,0x00,0x00, 0x00,0x00,0x00,0xFC, 0x0C,0x0C,0x00,0x00, 0xC3,0xC6,0xCC,0xDE, 0x33,0x66,0xCC,0x0F, 0xC3,0xC6,0xCC,0xDB, 0x37,0x6F,0xCF,0x03, 0x18,0x18,0x00,0x18, 0x18,0x18,0x18,0x00, 0x00,0x33,0x66,0xCC, 0x66,0x33,0x00,0x00, 0x00,0xCC,0x66,0x33, 0x66,0xCC,0x00,0x00, 0x22,0x88,0x22,0x88, 0x22,0x88,0x22,0x88, 0x55,0xAA,0x55,0xAA, 0x55,0xAA,0x55,0xAA, 0xDB,0x77,0xDB,0xEE, 0xDB,0x77,0xDB,0xEE, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0xF8,0x18,0x18,0x18, 0x18,0x18,0xF8,0x18, 0xF8,0x18,0x18,0x18, 0x36,0x36,0x36,0x36, 0xF6,0x36,0x36,0x36, 0x00,0x00,0x00,0x00, 0xFE,0x36,0x36,0x36, 0x00,0x00,0xF8,0x18, 0xF8,0x18,0x18,0x18, 0x36,0x36,0xF6,0x06, 0xF6,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x00,0x00,0xFE,0x06, 0xF6,0x36,0x36,0x36, 0x36,0x36,0xF6,0x06, 0xFE,0x00,0x00,0x00, 0x36,0x36,0x36,0x36, 0xFE,0x00,0x00,0x00, 0x18,0x18,0xF8,0x18, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xF8,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x1F,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0xFF,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0xFF,0x00,0x00,0x00, 0x18,0x18,0x18,0x18, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x1F,0x18, 0x1F,0x18,0x18,0x18, 0x36,0x36,0x36,0x36, 0x37,0x36,0x36,0x36, 0x36,0x36,0x37,0x30, 0x3F,0x00,0x00,0x00, 0x00,0x00,0x3F,0x30, 0x37,0x36,0x36,0x36, 0x36,0x36,0xF7,0x00, 0xFF,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0xF7,0x36,0x36,0x36, 0x36,0x36,0x37,0x30, 0x37,0x36,0x36,0x36, 0x00,0x00,0xFF,0x00, 0xFF,0x00,0x00,0x00, 0x36,0x36,0xF7,0x00, 0xF7,0x36,0x36,0x36, 0x18,0x18,0xFF,0x00, 0xFF,0x00,0x00,0x00, 0x36,0x36,0x36,0x36, 0xFF,0x00,0x00,0x00, 0x00,0x00,0xFF,0x00, 0xFF,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0xFF,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0x3F,0x00,0x00,0x00, 0x18,0x18,0x1F,0x18, 0x1F,0x00,0x00,0x00, 0x00,0x00,0x1F,0x18, 0x1F,0x18,0x18,0x18, 0x00,0x00,0x00,0x00, 0x3F,0x36,0x36,0x36, 0x36,0x36,0x36,0x36, 0xFF,0x36,0x36,0x36, 0x18,0x18,0xFF,0x18, 0xFF,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0xF8,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x1F,0x18,0x18,0x18, 0xFF,0xFF,0xFF,0xFF, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0xFF, 0xF0,0xF0,0xF0,0xF0, 0xF0,0xF0,0xF0,0xF0, 0x0F,0x0F,0x0F,0x0F, 0x0F,0x0F,0x0F,0x0F, 0xFF,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00, 0x00,0x00,0x76,0xDC, 0xC8,0xDC,0x76,0x00, 0x00,0x3C,0x66,0x7C, 0x66,0x7C,0x60,0x60, 0x00,0xFC,0xCC,0xC0, 0xC0,0xC0,0xC0,0x00, 0x00,0xFE,0x6C,0x6C, 0x6C,0x6C,0x6C,0x00, 0xFE,0xC6,0x60,0x30, 0x60,0xC6,0xFE,0x00, 0x00,0x00,0x7E,0xD8, 0xD8,0xD8,0x70,0x00, 0x00,0x66,0x66,0x66, 0x66,0x7C,0x60,0xC0, 0x00,0x76,0xDC,0x18, 0x18,0x18,0x18,0x00, 0xFC,0x30,0x78,0xCC, 0xCC,0x78,0x30,0xFC, 0x38,0x6C,0xC6,0xFE, 0xC6,0x6C,0x38,0x00, 0x38,0x6C,0xC6,0xC6, 0xC6,0x6C,0xEE,0x00, 0x1C,0x30,0x18,0x7C, 0xC6,0xC6,0x7C,0x00, 0x00,0x00,0x7E,0xDB, 0xDB,0x7E,0x00,0x00, 0x06,0x0C,0x7E,0xDB, 0xDB,0x7E,0x30,0x60, 0x38,0x60,0xC0,0xF8, 0xC0,0x60,0x38,0x00, 0x78,0xCC,0xCC,0xCC, 0xCC,0xCC,0xCC,0x00, 0x00,0xFC,0x00,0xFC, 0x00,0xFC,0x00,0x00, 0x30,0x30,0xFC,0x30, 0x30,0x00,0xFC,0x00, 0x60,0x30,0x18,0x30, 0x60,0x00,0xFC,0x00, 0x18,0x30,0x60,0x30, 0x18,0x00,0xFC,0x00, 0x0E,0x1B,0x1B,0x18, 0x18,0x18,0x18,0x18, 0x18,0x18,0x18,0x18, 0x18,0xD8,0xD8,0x70, 0x30,0x30,0x00,0xFC, 0x00,0x30,0x30,0x00, 0x00,0x76,0xDC,0x00, 0x76,0xDC,0x00,0x00, 0x38,0x6C,0x6C,0x38, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x18, 0x18,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x18,0x00,0x00,0x00, 0x0F,0x0C,0x0C,0x0C, 0xEC,0x6C,0x3C,0x1C, 0x7C,0x66,0x66,0x66, 0x66,0x00,0x00,0x00, 0x70,0x18,0x30,0x60, 0x78,0x00,0x00,0x00, 0x00,0x00,0x3C,0x3C, 0x3C,0x3C,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,
};


/*****************************************************************************/
/*                             Global Variables                              */
/*****************************************************************************/

ui_glyph_choice			global_ui_charset = UI_MODE_NOT_SET;
font_choice				global_font = FONT_NOT_SET;

extern const baud_config	global_baud_config[10];
extern uint8_t				global_current_baud_config;		// index to global_baud_config[]
extern bool					global_clock_is_visible;		// tracks whether or not the clock should be drawn. set to false when not showing main 2-panel screen.

extern char*				global_string[NUM_STRINGS];
extern char*				global_string_buff1;
extern char*				global_string_buff2;

extern TextDialogTemplate	global_dlg;	// dialog we'll configure and re-use for different purposes
extern char					global_dlg_title[36];	// arbitrary
extern char					global_dlg_body_msg[70];	// arbitrary
extern char					global_dlg_button[3][10];	// arbitrary
extern uint8_t				temp_screen_buffer_char[APP_DIALOG_BUFF_SIZE];	// WARNING HBD: don't make dialog box bigger than will fit!
extern uint8_t				temp_screen_buffer_attr[APP_DIALOG_BUFF_SIZE];	// WARNING HBD: don't make dialog box bigger than will fit!

extern uint8_t				zp_bank_num;
extern uint8_t				io_bank_value_kernel;	// stores value for the physical bank pointing to C000-DFFF whenever we change it, so we can restore it.

#pragma zpsym ("zp_bank_num");


/*****************************************************************************/
/*                       Private Function Prototypes                         */
/*****************************************************************************/



/*****************************************************************************/
/*                       Private Function Definitions                        */
/*****************************************************************************/




/*****************************************************************************/
/*                        Public Function Definitions                        */
/*****************************************************************************/


// draw/refresh title bar and items that appear in the title bar
void App_DrawTitleBar(void)
{
	// LOGIC:
	//   UI can be drawn within either ANSI graphics or Foenix graphics
	//   the font user is using in terminal will control this
	//   line-drawing glyphs are at different codepoints

	App_EnterStealthTextUpdateMode();

	global_clock_is_visible = true;
	
	if (global_ui_charset != UI_MODE_ANSI)
	{
		// draw the title bar at top. 1x80
		Text_CopyMemBoxLinearBuffer((uint8_t*)&screen_titlebar_glyphs, 0, TITLE_BAR_Y, 79, TITLE_BAR_Y, PARAM_COPY_TO_SCREEN, PARAM_FOR_TEXT_CHAR);
	}
	else
	{
		// draw the title bar at top. 1x80
		Text_CopyMemBoxLinearBuffer((uint8_t*)&screen_titlebar_glyphs_ansi, 0, TITLE_BAR_Y, 79, TITLE_BAR_Y, PARAM_COPY_TO_SCREEN, PARAM_FOR_TEXT_CHAR);
	}

	Text_FillBoxAttrOnly(3, TITLE_BAR_Y, 13, TITLE_BAR_Y, COLOR_BRIGHT_WHITE, APP_BACKGROUND_COLOR);
	
	// redraw baud display
	Text_DrawStringAtXY(TERM_BAUD_X1, TITLE_BAR_Y, General_GetString(global_baud_config[global_current_baud_config].lbl_string_id_), ANSI_COLOR_BRIGHT_BLUE, COLOR_BLACK);	

	// also draw the comms area
	Buffer_RefreshDisplay();

	App_ExitStealthTextUpdateMode();
	
	// update clock display - do after exiting stealth mode, because it needs it's own wrappers to that
	//  as it should be called every 1 min.
	App_DisplayTime();
}


// Switch font
void App_ChangeUIFont(font_choice the_font)
{
	if (the_font == global_font)
	{
		return;
	}

	global_font = the_font;
		
	// need to have vicky registers available
	Sys_SwapIOPage(VICKY_IO_PAGE_REGISTERS);

	if (the_font == FONT_STD)
	{
		// uses the standard drawing points for Foeniscii. 
		global_ui_charset = UI_MODE_FOENIX;
		
		// change cursor to block-style available with Foenix STD fonts
		R8(VICKY_TEXT_CURSOR_CHAR) = CH_HFILL_UP_8;
	}
	else
	{
		// uses ANSI (437) code points 
		global_ui_charset = UI_MODE_ANSI;
		
		// change cursor to underline style common to ANSI fonts
		R8(VICKY_TEXT_CURSOR_CHAR) = CH_UNDER;	// full-block option is 219 in ANSI.
	}

	Sys_DisableIOBank();

	// separately consider if a font needs to be loaded into VICKY, or just switched over
	
	if (the_font == FONT_STD)
	{
		Text_UpdateFontData((char*)screen_font_std, PARAM_USE_SECONDARY_FONT_SLOT);
	}
	else if (the_font == FONT_STD_ANSI)
	{
		Text_UpdateFontData((char*)screen_font_std_ansi, PARAM_USE_SECONDARY_FONT_SLOT);
	}
	else if (the_font == FONT_IBM_ANSI)
	{
		Text_UpdateFontData((char*)screen_font_ibm_ansi, PARAM_USE_SECONDARY_FONT_SLOT);
	}	

	App_DrawTitleBar();
}


// display information about f/manager
void Screen_ShowAppAboutInfo(void)
{
	// show app name, version, and credit
	sprintf(global_string_buff1, General_GetString(ID_STR_ABOUT_FTERM), MAJOR_VERSION, MINOR_VERSION, UPDATE_VERSION);
	Buffer_NewMessage(global_string_buff1);
	
	// also show current bytes free
	sprintf(global_string_buff1, General_GetString(ID_STR_N_BYTES_FREE), _heapmemavail());
	Buffer_NewMessage(global_string_buff1);
}


// show user a dialog and have them enter a string
// if a prefilled string is not needed, set starter_string to an empty string
// set max_len to the maximum number of bytes/characters that should be collected from user
// returns NULL if user cancels out of dialog, or returns a path to the string the user provided
char* Screen_GetStringFromUser(char* dialog_title, char* dialog_body, char* starter_string, uint8_t max_len)
{
	bool				success;
	uint8_t				orig_dialog_width;
	uint8_t				temp_dialog_width;
	
	// copy title and body text
	General_Strlcpy((char*)&global_dlg_title, dialog_title, 36);
	General_Strlcpy((char*)&global_dlg_body_msg, dialog_body, 70);

	// copy the starter string into the edit buffer so user can edit
	General_Strlcpy(global_string_buff2, starter_string, max_len + 1);
	
	// adjust dialog width temporarily, if necessary and possible
	orig_dialog_width = global_dlg.width_;
	temp_dialog_width = General_Strnlen(starter_string,  max_len) + 2; // +2 is for box draw chars
	
	DEBUG_OUT(("%s %d: orig_dialog_width=%u, temp width=%u, max_len=%u, starter='%s'", __func__ , __LINE__, orig_dialog_width, temp_dialog_width, max_len, starter_string));
	
	if (temp_dialog_width < orig_dialog_width)
	{
		temp_dialog_width = orig_dialog_width - 2;
	}
	else
	{
		global_dlg.width_ = temp_dialog_width;
		temp_dialog_width -= 2;
	}
	
	success = Text_DisplayTextEntryDialog(&global_dlg, (char*)&temp_screen_buffer_char, (char*)&temp_screen_buffer_attr, global_string_buff2, temp_dialog_width, APP_ACCENT_COLOR, APP_FOREGROUND_COLOR, APP_BACKGROUND_COLOR);

	// restore normal dialog width
	global_dlg.width_ = orig_dialog_width;

	// did user enter a name?
	if (success == false)
	{
		return NULL;
	}
	
	return global_string_buff2;
}


// show user a 2 button confirmation dialog and have them click a button
// returns true if user selected the "positive" button, or false if they selected the "negative" button
bool Screen_ShowUserTwoButtonDialog(char* dialog_title, uint8_t dialog_body_string_id, uint8_t positive_btn_label_string_id, uint8_t negative_btn_label_string_id)
{
	// copy title, body text, and buttons
	General_Strlcpy((char*)&global_dlg_title, dialog_title, 36);
	General_Strlcpy((char*)&global_dlg_body_msg, General_GetString(dialog_body_string_id), 70);
	General_Strlcpy((char*)&global_dlg_button[0], General_GetString(negative_btn_label_string_id), 10);
	General_Strlcpy((char*)&global_dlg_button[1], General_GetString(positive_btn_label_string_id), 10);
					
	global_dlg.num_buttons_ = 2;

	return Text_DisplayDialog(&global_dlg, (char*)&temp_screen_buffer_char, (char*)&temp_screen_buffer_attr, APP_ACCENT_COLOR, APP_FOREGROUND_COLOR, APP_BACKGROUND_COLOR, COLOR_RED, COLOR_GREEN);
}


